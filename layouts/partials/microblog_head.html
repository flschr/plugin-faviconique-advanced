{{- $p := .Site.Params -}}
{{- $emoji := (index $p "faviconique_emoji") | default "ðŸŒ±" -}}
{{- $style := (index $p "faviconique_style") | default "apple" -}}
{{- $title := (index $p "faviconique_title") | default .Site.Title -}}
{{- $theme := (index $p "faviconique_theme_color") | default "#000000" -}}
{{- $display := (index $p "faviconique_display") | default "standalone" -}}
{{- $cdn := "https://emojicdn.elk.sh" -}}
{{- $v := printf "&v=%d" .Site.LastChange.Unix -}}
{{- $base := printf "%s/%s?style=%s&size=" $cdn (urlquery $emoji) (urlquery $style) -}}

<link rel="preconnect" href="{{$cdn}}" crossorigin>
<link rel="dns-prefetch" href="{{$cdn}}">

<link rel="icon" type="image/png" sizes="16x16" href="{{$base}}16{{$v}}">
<link rel="icon" type="image/png" sizes="32x32" href="{{$base}}32{{$v}}">
<link rel="icon" type="image/png" sizes="48x48" href="{{$base}}48{{$v}}">
<link rel="icon" type="image/png" sizes="96x96" href="{{$base}}96{{$v}}">
<link rel="icon" type="image/png" sizes="192x192" href="{{$base}}192{{$v}}">
<link rel="icon" type="image/png" sizes="512x512" href="{{$base}}512{{$v}}">
<link rel="shortcut icon" type="image/png" href="{{$base}}32{{$v}}">
<link rel="apple-touch-icon" sizes="180x180" href="{{$base}}180{{$v}}">
<link rel="manifest" href="{{ "manifest.webmanifest" | relURL }}">

{{- if eq $display "standalone" }}
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
{{- end }}
<meta name="apple-mobile-web-app-title" content="{{ $title }}">
<meta name="application-name" content="{{ $title }}">
{{- if ne $theme "#000000" }}
<meta name="theme-color" content="{{ $theme }}">
<meta name="msapplication-TileColor" content="{{ $theme }}">
